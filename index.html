<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday ❤️</title>
  <style>
    body { 
      margin: 0; 
      overflow: hidden; 
      background: radial-gradient(circle, #ffb6c1, #ff7f9d); 
    }
    #text {
      position: absolute;
      bottom: 30px;
      width: 100%;
      text-align: center;
      font-family: Arial, sans-serif;
      font-size: 18px;
      color: white;
      text-shadow: 0 0 10px rgba(0,0,0,0.5);
      line-height: 1.8;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="bg"></canvas>
  <div id="text">
    <p>Tuấn ❤️ Nga</p>
    <p>Anh yêu em 💕</p>
    <p>
      Hôm nay là một ngày thật đặc biệt... 🌸<br>
      Bé iuuu của anh thêm tuổi mới rồi, bớt bướng 1 xíu nha 😆<br>
      Chúc em luôn xinh đẹp, vui vẻ và hạnh phúc 💖<br>
      Cảm ơn em đã đến và làm thế giới của anh rực rỡ hơn ✨<br>
      Sau này dù như nào đi nữa, anh vẫn mong em luôn bình yên và hạnh phúc 💕<br>
      Chúc em bé của anh thật mạnh mẽ trên con đường phía trước 😘
    </p>
  </div>

  <!-- Thư viện Three.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script>
    // Khởi tạo scene
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({canvas: document.querySelector("#bg"), alpha:true});
    renderer.setSize(window.innerWidth, window.innerHeight);

    // Vẽ trái tim
    const x = 0, y = 0;
    const heartShape = new THREE.Shape();
    heartShape.moveTo(x, y);
    heartShape.bezierCurveTo(x, y, x - 2.5, y - 2.5, x - 2.5, y - 5);
    heartShape.bezierCurveTo(x - 2.5, y - 7.5, x, y - 7.5, x, y - 5);
    heartShape.bezierCurveTo(x, y - 7.5, x + 2.5, y - 7.5, x + 2.5, y - 5);
    heartShape.bezierCurveTo(x + 2.5, y - 2.5, x, y, x, y);

    const geometry = new THREE.ExtrudeGeometry(heartShape, {
      depth: 1, bevelEnabled: true, bevelSegments: 2, 
      steps: 2, bevelSize: 0.5, bevelThickness: 0.5
    });

    // Tạo gradient hồng -> tím
    const canvas = document.createElement('canvas');
    canvas.width = 256;
    canvas.height = 256;
    const ctx = canvas.getContext('2d');
    const gradient = ctx.createLinearGradient(0, 0, 256, 256);
    gradient.addColorStop(0, '#ff4da6'); // hồng
    gradient.addColorStop(1, '#8000ff'); // tím
    ctx.fillStyle = gradient;
    ctx.fillRect(0, 0, 256, 256);
    const texture = new THREE.CanvasTexture(canvas);

    const material = new THREE.MeshPhongMaterial({
      map: texture,
      shininess: 200,
      specular: 0xffffff
    });

    const heart = new THREE.Mesh(geometry, material);
    scene.add(heart);

    // Ánh sáng chính
    const mainLight = new THREE.PointLight(0xffffff, 1);
    mainLight.position.set(5, 5, 5);
    scene.add(mainLight);
    scene.add(new THREE.AmbientLight(0x404040));

    // Thêm ánh sáng nhấp nháy
    const sparkleLight = new THREE.PointLight(0xff66ff, 2, 20);
    sparkleLight.position.set(0, 5, 5);
    scene.add(sparkleLight);

    camera.position.z = 10;

    // Hiệu ứng tim đập
    let scale = 1;
    let growing = true;
    let sparkleTime = 0;

    function animate() {
      requestAnimationFrame(animate);

      // Xoay
      heart.rotation.y += 0.01;

      // Nhịp tim
      if(growing) {
        scale += 0.005;
        if(scale >= 1.2) growing = false;
      } else {
        scale -= 0.005;
        if(scale <= 1) growing = true;
      }
      heart.scale.set(scale, scale, scale);

      // Ánh sáng lấp lánh
      sparkleTime += 0.05;
      sparkleLight.intensity = 1.5 + Math.sin(sparkleTime) * 1;

      renderer.render(scene, camera);
    }
    animate();

    // Responsive
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
</body>
</html>
