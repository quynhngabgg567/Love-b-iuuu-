<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tuấn ❤️ Nga</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: radial-gradient(black, #0a0014);
      overflow: hidden;
      height: 100%;
      font-family: "Poppins", sans-serif;
      color: #ffb3ec;
    }

    canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    .text-circle {
      position: absolute;
      bottom: 60px;
      left: 50%;
      transform: translateX(-50%);
      width: 350px;
      height: 350px;
      border-radius: 50%;
      animation: rotateCircle 20s linear infinite;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #ff99ff;
      text-shadow: 0 0 10px #ff33cc;
    }

    .text-circle span {
      position: absolute;
      white-space: nowrap;
      font-size: 18px;
      font-weight: bold;
    }

    @keyframes rotateCircle {
      from { transform: translateX(-50%) rotate(0deg); }
      to { transform: translateX(-50%) rotate(360deg); }
    }

    #music {
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      opacity: 0.7;
    }
  </style>
</head>
<body>
  <canvas id="heartCanvas"></canvas>

  <div class="text-circle">
    <span>
      Tuấn ❤️ Nga • Anh yêu em 💕 • Bé iu của anh thêm tuổi mới rồi 😘 •
      Chúc em luôn xinh đẹp, vui vẻ và hạnh phúc 💖 • 
      Cảm ơn vì hai ta đã gặp nhau ở độ tuổi đẹp nhất 🫂💕 •
      Chúc em bé của anh sẽ thật mạnh mẽ trên con đường phía trước 💪🌸 •
      Sau này, em vẫn mãi là một phần đặc biệt trong tim anh ♥️💗 •
    </span>
  </div>

  <audio id="music" autoplay loop>
    <source src="https://cdn.pixabay.com/audio/2023/09/04/audio_b5b40c85c4.mp3" type="audio/mp3">
  </audio>

  <script>
    const canvas = document.getElementById("heartCanvas");
    const ctx = canvas.getContext("2d");
    let particles = [];
    let width, height, centerX, centerY;

    function resize() {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
      centerX = width / 2;
      centerY = height / 2;
    }
    window.addEventListener("resize", resize);
    resize();

    function heartFunction(t) {
      const x = 16 * Math.pow(Math.sin(t), 3);
      const y = 13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t);
      return { x, y };
    }

    class Particle {
      constructor(angle) {
        const pos = heartFunction(angle);
        this.x = centerX;
        this.y = centerY;
        this.tx = centerX + pos.x * 20;
        this.ty = centerY - pos.y * 20;
        this.size = Math.random() * 3 + 1;
        this.alpha = 1;
        this.color = `hsl(${300 + Math.random() * 60},100%,70%)`;
        this.vx = (Math.random() - 0.5) * 15;
        this.vy = (Math.random() - 0.5) * 15;
        this.phase = "explode";
      }

      update() {
        if (this.phase === "explode") {
          this.x += this.vx;
          this.y += this.vy;
          this.alpha -= 0.01;
          if (this.alpha <= 0.3) {
            this.phase = "gather";
          }
        } else {
          this.x += (this.tx - this.x) * 0.03;
          this.y += (this.ty - this.y) * 0.03;
          this.alpha += 0.02;
          if (this.alpha >= 1) this.phase = "pulse";
        }
      }

      draw() {
        ctx.globalAlpha = this.alpha;
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
      }
    }

    function createParticles() {
      particles = [];
      for (let i = 0; i < 500; i++) {
        const t = Math.random() * Math.PI * 2;
        particles.push(new Particle(t));
      }
    }

    function animate() {
      ctx.fillStyle = "rgba(0,0,0,0.15)";
      ctx.fillRect(0, 0, width, height);
      particles.forEach((p) => {
        p.update();
        p.draw();
      });
      requestAnimationFrame(animate);
    }

    createParticles();
    animate();
  </script>
</body>
</html>
